<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Campaign Logs</h3>
  <div>
  </div>
</div>

<div class="card table-responsive">
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th><%= sort_link("Date", "request_date") %></th>
        <th><%= sort_link("Campaign", "campaign_name") %></th>
        <th>Member</th>
        <th><%= sort_link("Receive Currency", "receive_currency") %></th>
        <th><%= sort_link("Receive Amount", "receive_amount") %></th>
        <th><%= sort_link("Source Type", "source_type") %></th>
        <th><%= sort_link("Source ID", "source_id") %></th>
        <th><%= sort_link("Source User ID", "source_user_id") %></th>
        <th><%= sort_link("Remark", "remark") %></th>
        <th><%= sort_link("Claimed?", "is_claimed") %></th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <% @campaign_logs.each do |campaign_log| %>
        <tr>
          <td><%= Time.parse(campaign_log["request_date"]) %></td>
          <td>
            <%= campaign_log["campaign_name"] %>
            <%= link_to admin_campaign_path(campaign_log["campaign_id"]), target: :_blank do %>
              <i class="icon fa fa-link"></i>
            <% end %>
          </td>
          <td>
            <% if Member.find_by(uid: campaign_log["user_id"])%>
              <%= Member.find_by(uid: campaign_log["user_id"]).email %>
              <%= link_to admin_member_path(Member.find_by(uid: campaign_log["user_id"]).id), target: :_blank do %>
                <i class="icon fa fa-link"></i>
              <% end %>
            <% end %>
          </td>
          <td><%= campaign_log["receive_currency"] %></td>
          <td><%= campaign_log["receive_amount"] %></td>
          <td><%= campaign_log["source_type"] %></td>
          <td><%= campaign_log["source_id"] %></td>
          <td><%= campaign_log["source_user_id"] %></td>
          <td><%= campaign_log["remark"] %></td>
          <td><%= campaign_log["is_claimed"] %></td>
          <td><%= link_to "View", admin_campaign_log_path(campaign_log["id"]) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<%= paginate @campaign_logs %>
